<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Mind your language - Robb Owen</title><meta name="description" content="Building flexible, multi-lingual sites can be tricky. This post takes a look at five steps to help things run smoothly"><meta name="theme-color" content="#ff99b3"><meta name="color-scheme" content="only light"><link rel="apple-touch-icon" sizes="180x180" href="../../assets/img/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../../assets/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../../assets/img/favicon-16x16.png"><link rel="icon" type="image/png" href="../../assets/img/favicon.ico"><link href="https://front-end.social/@robb" rel="me"><meta property="og:site_name" content="Robb Owen Digital"><meta property="og:type" content="website"><meta property="og:locale" content="en_gb"><meta property="og:url" content="https://robbowen.digital/wrote-about/minding-your-language/"><meta property="og:title" content="Mind your language - Robb Owen "><meta property="og:description" content="Building flexible, multi-lingual sites can be tricky. This post takes a look at five steps to help things run smoothly"><meta property="og:image" content="https://robbowen.digital/assets/img/cards/minding-your-language.png"><meta name="twitter:image" content="https://robbowen.digital/assets/img/cards/minding-your-language.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@Robb0wen"><link href="../../feed.xml" rel="alternate" type="application/rss+xml" title="RSS Feed"><script>document.querySelector('html').classList.add('js');
    document.querySelector('html').classList.remove('no-js');</script><link href="https://fonts.googleapis.com/css?family=Bitter:400,700&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="../../assets/css/styles.css"><style id="theme">:root{--bg:#f5f5f5;--line:#73024c;--fill:#ff99b3;--text:#73024c;--subtext:#ce0e0e;--duo:#ff99b3}.stripes{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 22.93 22.93'%3E%3Cpolygon fill='%23ff99b3' points='0 8.18 14.75 22.93 22.74 22.93 0 0.19 0 8.18'/%3E%3Cpolygon fill='%23ff99b3' points='22.93 8.37 22.93 0.38 22.56 0 14.56 0 22.93 8.37'/%3E%3C/svg%3E");background-size:11px;opacity:.6}.dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22.9 22.9' style='enable-background:new 0 0 22.9 22.9;' xml:space='preserve'%3E%3Ccircle fill='%23ff99b3' class='st0' cx='5.7' cy='5.9' r='3'/%3E%3Ccircle fill='%23ff99b3' class='st0' cx='17.2' cy='17.2' r='3'/%3E%3C/svg%3E%0A");background-size:12px}</style></head><body><a class="skip-link u-vhide" href="index.html#main-content">Skip to content</a><div class="loading loading--in"><div class="loading__mask"></div><div class="loader"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div></div><div class="pagewrap"><div class="mainnav"><div class="logo-wrap"><a href="../../index.html"><span class="u-vhide">Back to the homepage</span> <span class="logo js-logo"><div class="logo__sugarloaf"><div class="shade" data-drift="-5 -10"><svg version="1.1" x="0px" y="0px" viewBox="0 0 256 256"><polygon class="filled-poly" points="137.6,67.7 38.5,193 236.8,193 "></polygon></svg></div><div class="logo"><svg version="1.1" x="0px" y="0px" viewBox="0 0 256 256"><polygon class="stroke-poly" points="105.2,79.7 28.2,177 182.2,177 "></polygon><polygon class="stroke-poly" points="127.6,51.7 28.5,177 226.8,177 "></polygon></svg></div></div></span></a></div><div class="menu-link"><button class="menu-link__trigger js-menu-trigger" aria-expanded="false" aria-controls="main-menu"><span class="menu-link__mask"><span class="menu-link__label menu-link__label--close js-menu-label-close" aria-hidden="true">Close</span> <span class="menu-link__label menu-link__label--open js-menu-label-open" aria-hidden="false">Menu</span></span></button></div><a class="hire-me" href="mailto:hello@robbowen.digital?subject=ü§ò Hi Robb, I'd like to hire you"><div class="shade" data-drift="-4 -6" data-drift-center="y"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path class="filled-path" d="M30.78,9.87c13.52,0,24.46,9.58,24.46,21.41a19.4,19.4,0,0,1-5,12.95h0l2.9,9.82L42.37,50.1h0a27.51,27.51,0,0,1-11.59,2.58,26.84,26.84,0,0,1-14-3.86C10.42,45,6.24,38.52,6.24,31.2,6.24,19.53,17.26,9.87,30.78,9.87Z"></path></svg></div><div class="main"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path class="stroke-path" d="M27.78,5.87c13.52,0,24.46,9.58,24.46,21.41a19.4,19.4,0,0,1-5,12.95h0l2.9,9.82L39.37,46.1h0a27.51,27.51,0,0,1-11.59,2.58,26.84,26.84,0,0,1-14-3.86C7.42,41,3.24,34.52,3.24,27.2,3.24,15.53,14.26,5.87,27.78,5.87Z"></path></svg></div>Hire me</a></div><div class="main-menu js-menu" id="main-menu"><div class="main-menu__mask"></div><div class="main-menu__flyout"><div class="main-menu__inr wrap"><ul class="social-links"><li class="social-links__item"><a class="social-links__link social-links__link--ma" href="https://front-end.social/@Robb" rel="noopener noreferrer" target="_blank">Follow me on Mastodon</a></li><li class="social-links__item"><a class="social-links__link social-links__link--in" href="http://www.instagram.com/robb0wen" rel="noopener noreferrer" target="_blank">Follow me on Instagram</a></li><li class="social-links__item"><a class="social-links__link social-links__link--gh" href="https://github.com/robb0wen" rel="noopener noreferrer" target="_blank">Visit my GitHub</a></li><li class="social-links__item"><a class="social-links__link social-links__link--rss" href="../../feed.xml" rel="noopener noreferrer" target="_blank" data-rekishi-skip="">Subscribe to my RSS feed</a></li><li class="social-links__item"><a class="social-links__link social-links__link--email" href="mailto:hello@robbowen.digital" rel="noopener noreferrer" target="_blank">Send me an Email</a></li></ul><ul class="main-menu__links primary-links"><li class="primary-links__item"><a aria-current="page" class="primary-links__link t-primary" href="../../index.html" aria-describedby="desc_home">Home</a> <span id="desc_home" class="primary-links__summary">Back to the home page.</span></li><li class="primary-links__item"><a aria-current="page" class="primary-links__link t-primary" href="../../work" aria-describedby="desc_work">Work</a> <span id="desc_work" class="primary-links__summary">My approach to development.</span></li><li class="primary-links__item"><a class="primary-links__link t-primary" href="../../about" aria-describedby="desc_about">About</a> <span id="desc_about" class="primary-links__summary">A little about me and my background.</span></li><li class="primary-links__item"><a class="primary-links__link t-primary" href="../../writing" aria-describedby="desc_writing">Writing</a> <span id="desc_writing" class="primary-links__summary">My latest writing on tech and language.</span></li></ul></div></div></div><main id="main-content" class="page-body" tabindex="-1"><svg style="position:absolute;top:-900px;left:-900px;clip:rect(0,0,0,0)"><filter id="duotone_filter"><feColorMatrix type="matrix" result="grayscale" values="1 0 0 0 0
                  1 0 0 0 0
                  1 0 0 0 0
                  0 0 0 1 0"></feColorMatrix><feComponentTransfer color-interpolation-filters="sRGB" result="duotone"><feFuncR type="table" tableValues="0.6 1.0980392156862746"></feFuncR><feFuncG type="table" tableValues="-0.2 0.7019607843137254"></feFuncG><feFuncB type="table" tableValues="0.00392156862745098 0.803921568627451"></feFuncB><feFuncA type="table" tableValues="0 1"></feFuncA></feComponentTransfer></filter></svg><div class="article" data-reveal="is-onscreen"><div><div class="article-heading"><span class="article-heading__byline">5th July 2022</span><h1 class="article-heading__title t-heading t-medium:s t-big:m t-bigger:l"><span>Mind your language<span class="dot">.</span></span></h1></div></div><div class="article__content flow reveal-content"><style>.flow p:lang(ja){font-weight:700}.highlight-padding{border-radius:1rem;border:2px dashed var(--fill);background-image:linear-gradient(180deg,var(--bg),var(--bg)),url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 22.93 22.93'%3E%3Cpolygon fill='%23ff99b3' points='0 8.18 14.75 22.93 22.74 22.93 0 0.19 0 8.18'/%3E%3Cpolygon fill='%23ff99b3' points='22.93 8.37 22.93 0.38 22.56 0 14.56 0 22.93 8.37'/%3E%3C/svg%3E");background-clip:content-box,padding-box;background-size:auto,11px;box-shadow:inset 0 0 0 2px var(--bg)}p.highlight-padding{font-weight:700}.missing{color:transparent;border:1px solid var(--text)}.character{color:var(--line);font-size:clamp(3rem,8vw,8rem);font-weight:400;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol'}p.vert{writing-mode:vertical-rl;-webkit-writing-mode:vertical-rl;-ms-writing-mode:vertical-rl;font-size:2rem;font-weight:700}p.fake-vert{text-align:center;word-break:break-all;font-size:2rem;font-weight:700;width:1em;white-space:break-word;line-height:1}p:lang(ar){font-size:2.5rem}:lang(jp),:lang(ko),:lang(zh){font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol'}</style><p>The web has a diverse global audience and the websites and apps we build have to cater towards a wide range of languages, scripts and dialects. Developing for multiple languages isn't as simple as bashing the text onto the page though. As developers, we need to take extra care to present multi-lingual content in the most natural way possible. Fortunately, HTML and CSS present us with a few options to enhance the reading experience of our users.</p><p>If you find yourself needing to design or develop content to work in multiple languages, here are five tips and gotchas that might help things run more smoothly:</p><h2 class="t-heading t-lede:s t-medium:m t-medium:l" id="1-fonts-and-diacritics">1. Fonts and diacritics<span class="dot">.</span><a href="index.html#1-fonts-and-diacritics" class="u-vhide"> permalink</a></h2><blockquote><p>Have you ever heard the works of the Czech composer <span lang="cs">Anton<b style="font-family:serif">√≠</b>n Dvo<b style="font-family:monospace,system-ui">≈ô</b><i style="font-family:serif">√°</i>k</span>? Perhaps you might have visited the beautiful Latvian city of <span lang="lv">R<b style="font-family:monospace">ƒ´</b>ga</span>, or strolled lazily through the <span lang="fr">Champs-<span class="missing">√â</span>lys<span class="missing">√©</span>es</span> in Paris?</p></blockquote><p>Ok, so contrived example text aside, choosing a webfont with wide accent (or '<a href="https://en.wikipedia.org/wiki/Diacritic" target="_blank">diacritic</a>') support can be a real quick-win when designing for multi-lingual content.</p><p>It's easy to take for granted, but not all fonts cover the full range of diacritic marks and this can be particularly noticeable with brand or display fonts. In fact, a quick look at Google Fonts <a href="https://fonts.google.com/?category=Sans+Serif&amp;sort=popularity&amp;preview.text=T%C5%99inec.%20R%C4%ABga.%20Bucure%C8%99ti.%20%C5%81%C3%B3d%C5%BA.&amp;preview.text_type=custom" target="_blank">shows that even some of the most popular webfonts struggle</a>.</p><p>Wherever possible, make sure to check support before deciding on your webfonts. If you're stuck with a font that doesn't include the diacritics you need, you needn't worry though. In the event that your primary font doesn't include a particular diacritic mark, browsers will render the missing character with the next available font in your <code>font-family</code> stack.</p><p>To avoid harming your design with clunky, mismatched text like the example above, make sure that the fonts in your stack are as close a visual match as possible:</p><ul><li><strong>Match the type of fonts</strong>. If your primary font is a serif, your fallback fonts should all be serif fonts. The same goes for for sans-serif or monospace fonts. Swap like for like.</li><li><strong>Match the x-height</strong> of your fonts to ensure the size is similar. Mismatched fonts might appear taller than others, leaving your content looking ragged or uneven.</li><li><strong>Match the contrast or weight</strong> of your fonts to ensure that missing characters don't appear thicker or thinner than the primary font</li></ul><p>All of this might seem obvious but take a quick look through the font choices on Instagram stories and you'll see how easily font stack can slip through the net.</p><div class="reveal-img dots" data-src="/assets/img/articles/lang.jpg" style="padding-top:59.09598214285714%"><img class="" src="../../assets/img/articles/lang.jpg" alt="A demonstration of the text 'Ik≈°ƒ∑ile' rendered with fallbacks for diacritics. The first example shows mismatched sans and serif. The second shows mismatched x-height. The third and final shows mismatched contrast."></div><h2 class="t-heading t-lede:s t-medium:m t-medium:l" id="2-the-lang-attribute">2. The <code>lang</code> attribute<span class="dot">.</span><a href="index.html#2-the-lang-attribute" class="u-vhide"> permalink</a></h2><p>Another useful tool for improving the semantics of multi-lingual content is the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang" target="_blank"><code>lang</code> attribute</a>.</p><p>The immediate benefit of setting a page-level <code>lang</code> attribute on the <code>html</code> tag is that search engines will know how to index your content. More importantly though, the <code>lang</code> attribute will inform assistive technologies such as screen-readers which accent and dictionaries to use when reading the content aloud. When a language code is combined with a regional subcode, for example <code>en-GB</code>, the results can get even more granular ‚Äì as <a href="https://twitter.com/MicheBarks" target="_blank">Michelle Barker</a> writes, the subcode <a href="https://css-irl.info/dont-forget-the-lang-attribute/" target="_blank">can also be used to specify the regional dialect of a screen reader</a>.</p><p>Beyond assistive tech, setting the <code>lang</code> attribute is also beneficial to our CSS. When the attribute is set, we can use the <code>:lang</code> pseudo class to style content based on language. For example, the following CSS could be used to serve a specific font stack to any content that matches <code>:lang(ar)</code></p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">:lang(ar)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Noto Sans Arabic'</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span> </span></code></pre><p>If you need more fine-grained control, the <code>:lang</code> selector also stacks codes and regional subcodes. With the following CSS snippet, content nested under a <code>lang</code> attribute of <code>en-GB</code> would be both blue and bold, but content with <code>en-US</code> would only be blue:</p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">:lang(en)</span> <span class="token punctuation">{</span> <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span> <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">:lang(en-GB)</span> <span class="token punctuation">{</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span> <span class="token punctuation">}</span></span></code></pre><h3 class="t-heading t-lede:s t-subhead:m t-subhead:l" id="the-lang-attribute-and-character-sets">The <code>lang</code> attribute and character sets<span class="dot">.</span><a href="index.html#the-lang-attribute-and-character-sets" class="u-vhide"> permalink</a></h3><p>There's one last feature that the <code>lang</code> attribute provides for <abbr title="Chinese Japanese Korean">CJK</abbr> languages in particular that might not be immediately obvious to people unfamiliar with those languages.</p><p>Chinese, Japanese and Korean all use idographic characters but, as with all languages, usage has changed over time and so have the characters themselves. A hanzi character used in traditional Chinese, might be considerably different to a Japanese kanji or Korean hanja character of the same meaning. In a attempt to minimise the number of character variations, the unicode maintainers decided that all variations should be linked together under a single unicode point. This was known as the <a href="https://en.wikipedia.org/wiki/Han_unification" target="_blank">Han Unification</a> and it's <a href="https://en.wikipedia.org/wiki/Han_unification#Rationale_and_controversy" target="_blank">pretty controversial</a>.</p><p>Why does this matter for typesetting on the web? Let's take a quick look ‚Äì Below is the same character (U+8FD4) repeated five times:</p><div class="repel"><span class="character">Ëøî</span> <span class="character">Ëøî</span> <span class="character">Ëøî</span> <span class="character">Ëøî</span> <span class="character">Ëøî</span></div><p>Now let's try that again, but this time setting the <code>lang</code> attribute for each from left to right: <em>Simplified Chinese, Traditional Chinese (Taiwan), Traditional Chinese (Hong Kong), Japanese, Korean.</em></p><div class="repel"><span class="character" lang="zh-ZH">Ëøî</span> <span class="character" lang="zh-TW">Ëøî</span> <span class="character" lang="zh-HK">Ëøî</span> <span class="character" lang="ja-JP">Ëøî</span> <span class="character" lang="ko-KR">Ëøî</span></div><pre class="language-html"><code class="language-html"><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zh-ZH<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ëøî<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zh-TW<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ëøî<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zh-HK<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ëøî<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ja-JP<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ëøî<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ko-KR<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Ëøî<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span></code></pre><p>Without setting the <code>lang</code> attribute, the browser doesn't have any knowledge of which language you are using and will default to its best guess. These characters might look similar, but they're distinct between languages. For speakers of <abbr title="Chinese Japanese Korean">CJK</abbr> languages, a word or phrase displaying the wrong character variant might still be readable, but it will look a bit jarring.</p><p>Setting the <code>lang</code> attribute ensures that browser renders the character appropriate for the target language. It's also important to note that the region subcode of the language definition is helpful here too - <code>zh-ZH</code>, <code>zh-TW</code> and <code>zh-HK</code> are all under the <a href="https://en.wikipedia.org/wiki/ISO_639_macrolanguage" target="_blank">zh macrolanguage code</a>, but the character still differs by region.</p><p>All-in-all, the <code>lang</code> attribute is an vital tool in removing ambiguity from our multi-lingual content.</p><h2 class="t-heading t-lede:s t-medium:m t-medium:l" id="3-direction-and-writing-mode">3. Direction and writing mode<span class="dot">.</span><a href="index.html#3-direction-and-writing-mode" class="u-vhide"> permalink</a></h2><p>Another common requirement of typesetting different languages is how to handle right-to-left scripts such as Arabic or Hebrew.</p><p>Simply entering <abbr title="right to left">RTL</abbr> text will flow the text properly, but the alignment of elements to the page itself will be off:</p><p lang="ar">ÿ£ŸÜÿß ÿ£ÿ≥ŸÅ ÿå ŸÑÿß ÿßÿ™ŸÉŸÑŸÖ ÿπÿ±ÿ®Ÿä ÿ¨ŸäÿØÿß</p><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> ÿ£ŸÜÿß ÿ£ÿ≥ŸÅ ÿå ŸÑÿß ÿßÿ™ŸÉŸÑŸÖ ÿπÿ±ÿ®Ÿä ÿ¨ŸäÿØÿß<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span></code></pre><p>Fortunately HTML gives us a handy way to set the writing direction with the <code>dir</code> attribute. Setting <code>dir="rtl"</code> on the <code>html</code> tag will flip the text direction for the whole page, but you can also set it at text-level on individual elements. Let's take another look:</p><p lang="ar" dir="rtl">ÿ£ŸÜÿß ÿ£ÿ≥ŸÅ ÿå ŸÑÿß ÿßÿ™ŸÉŸÑŸÖ ÿπÿ±ÿ®Ÿä ÿ¨ŸäÿØÿß</p><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ar<span class="token punctuation">"</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rtl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> ÿ£ŸÜÿß ÿ£ÿ≥ŸÅ ÿå ŸÑÿß ÿßÿ™ŸÉŸÑŸÖ ÿπÿ±ÿ®Ÿä ÿ¨ŸäÿØÿß<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span></code></pre><p>Much better!</p><p>There's more to text direction though ‚Äì <abbr title="right to left">RTL</abbr> is not the only alternative writing mode. Some scripts such as Japanese or traditional Chinese can have a vertical writing mode, written from top to bottom and from right to left. This was historically much harder to handle in CSS, and for a long time it was common to fake vertical text with a questionable combination of <code>word-break: break-all</code> and a width of <code>1ch</code>. Fortunately with <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode" target="_blank"><code>writing-mode</code></a> gaining support in all major browsers, there's a better way. This property gives us the abillity to easily set lines of text to run vertically and in either direction. A value of <code>vertical-lr</code> sets it from top to bottom, left to right. <code>vertical-rl</code> flows lines of content top to bottom, right to left.</p><p>But how much of a difference does this actually make vs the 'creative' method of using word-break?</p><p>Take a look at the Japanese-language examples below. On the left is vertical text faked with <code>word-break</code>. On the right is text set correctly with <code>writing-mode: vertical-rl</code>. The differences might seem subtle at first, but they're immediately obvious to anyone who reads Japanese:</p><div class="cluster"><p class="fake-vert" lang="ja-JP">1980Âπ¥‰ª£„ÅÆ„Çπ„Éà„É™„Éº„Éà„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥</p><p class="vert" lang="ja-JP">1980Âπ¥‰ª£„ÅÆ„Çπ„Éà„É™„Éº„Éà„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥</p></div><p>Ok, before we move on, you might have noticed the conspicuous split between controlling text direction with the <code>dir</code> attribute in HTML and then <code>writing-mode</code> in CSS. Personally, I find this to be a little confusing. Fortunately though, it looks like the CSS spec agrees and there is an experimental specification for <code>writing-mode</code> that will bring <code>sideways-lr</code> for <abbr title="left to right">LTR</abbr> languages and <code>sideways-rl</code> for <abbr title="right to left">RTL</abbr> languages. Currently this is only supported in Firefox, but here's hoping it gains wider support.</p><h2 class="t-heading t-lede:s t-medium:m t-medium:l" id="4-logical-css-properties">4. Logical CSS properties<span class="dot">.</span><a href="index.html#4-logical-css-properties" class="u-vhide"> permalink</a></h2><p>Building on the last point, we can now get our text orientated properly. But what about padding and margin?</p><p>Traditional margin and padding CSS properties specify a direction: top, right, bottom or left. These are fine for <abbr title="left to right">LTR</abbr> languages, but when writing mode changes, these properties won't take direction into account and may break your designs. Fortunately with CSS Logical properties, we now have access to direction-aware alternatives.</p><p>Where you would have previously used <code>padding-left</code> and <code>padding-right</code>, you can instead use <code>padding-inline-start</code> and <code>padding-inline-end</code>. Similarly for <code>padding-top</code> and <code>padding-bottom</code> you can now use <code>padding-block-start</code> or <code>padding-block-end</code>. The same pattern works for margins.</p><p>The great thing about these new properties is that for <abbr title="left to right">LTR</abbr> languages, they're totally indistinguishable from the standard padding properties. Below is an example in English, the first uses padding-left and the second uses padding-inline-start.</p><p lang="en" class="highlight-padding" style="padding-left:40px">Half-fat decaf soy-milk caramel latt√©</p><p lang="en" class="highlight-padding" style="padding-inline-start:40px">Half-fat decaf soy-milk caramel latt√©</p><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">padding-left</span><span class="token punctuation">:</span> 40px</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Half-fat decaf soy-milk caramel latt√©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">padding-inline-start</span><span class="token punctuation">:</span> 40px</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Half-fat decaf soy-milk caramel latt√©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span></code></pre><p>When you find yourself supporting an <abbr title="right to left">RTL</abbr> language though, these new properties suddenly make all the difference. Let's compare:</p><p lang="ar" dir="rtl" class="highlight-padding" style="padding-left:40px">ÿßŸÑŸÇŸáŸàÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑÿ£ÿµŸäŸÑÿ©</p><p lang="ar" dir="rtl" class="highlight-padding" style="padding-inline-start:40px">ÿßŸÑŸÇŸáŸàÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑÿ£ÿµŸäŸÑÿ©</p><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ar<span class="token punctuation">"</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rtl<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">padding-left</span><span class="token punctuation">:</span> 40px</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ÿßŸÑŸÇŸáŸàÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑÿ£ÿµŸäŸÑÿ©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ar<span class="token punctuation">"</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rtl<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">padding-inline-start</span><span class="token punctuation">:</span> 40px</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ÿßŸÑŸÇŸáŸàÿ© ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑÿ£ÿµŸäŸÑÿ©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span></code></pre><p>The huge benefit of using logical properties is even more obvious when using a vertical <code>writing-mode</code>. As with the previous examples, for the first example we're using <code>padding-left</code> and on the second we're using <code>padding-inline-start</code>:</p><div class="cluster"><p class="vert highlight-padding" lang="ja-JP" style="padding-left:40px">Ê∞¥Âá∫„Åó„Ç≥„Éº„Éí„Éº</p><p class="vert highlight-padding" lang="ja-JP" style="padding-inline-start:40px">Ê∞¥Âá∫„Åó„Ç≥„Éº„Éí„Éº</p></div><p>At the time of writing, CSS Logical properties are <a href="https://caniuse.com/css-logical-props" target="_blank">really widely supported</a> so there's every reason to start using them today. If you'd like to know more, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties" target="_blank">you can read more about logical properties on MDN</a></p><h2 class="t-heading t-lede:s t-medium:m t-medium:l" id="5-form-validation">5. Form validation<span class="dot">.</span><a href="index.html#5-form-validation" class="u-vhide"> permalink</a></h2><p>This last point is where things get a bit tricky. The main point of contention is that, as web developers we need form validation to keep the web secure. At the same time though, we need to be mindful that our security measures don't unintentionally alienate or block users from using our websites.</p><p>A cursory web search for name validation rules throws back regex patterns like this:</p><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">required</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>^[a-zA-Z ,.'-]+$<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></span></code></pre><p>This validation pattern definitely allows for a wide range of name punctuation but at the same time it would exclude a vast number of people who have accents, diacritics or non-Latin characters in their names. It's possible to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank">extend this regular expression</a> to include a wider range of accented characters, but making sure that all bases are covered can quickly become a maintenance nightmare.</p><p>A common approach to this challenge is to simply ask users to write their name without diacritics. Whilst this would certainly pass validation rules, this is not a true solution. Rendering a character without its diacritic can sometimes change the meaning of a word and names are a deeply personal thing that vary widely by culture and by language. Regardless of the intent, to build with assumptions on what constitutes a valid name risks excluding those who fit outside of those assumptions.</p><p>My recommendation for the most inclusive strategy? Make sure you do all of your usual security checks for script injection etc. but, wherever possible, don't validate the individual characters in a user's name. After all, as Patrick McKenzie wrote in the evergreen essay <a href="https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/" target="_blank">"Falsehoods programmers believe about names"</a>, it's near-impossible to get it right.</p><p>...Oh, and one last thing. If you absolutely <em>have to</em> validate names then make sure that any feedback messages put the blame firmly on your systems. Telling a user that their name is 'invalid' is rarely a good look.</p><h2 class="t-heading t-lede:s t-medium:m t-medium:l" id="wrapping-up">Wrapping up<span class="dot">.</span><a href="index.html#wrapping-up" class="u-vhide"> permalink</a></h2><p>This post is just scratching the surface, but hopefully illustrates how important it is to handle multi-lingual content with care. Here's a quick summary of what we've looked at:</p><ul><li>Choose fonts with good support for accents and diacritics and build a solid font stack to handle missing characters</li><li>Always set the <code>lang</code> attribute to let the browser know what language your content is in</li><li>Set horizontal text direction with the <code>dir</code> attribute</li><li>Set vertical text direction with the <code>writing-mode</code> css property</li><li>Use logical properties for padding and margins to ensure that layout changes won't break your design</li><li>Where possible, avoid validating name inputs and write conscientious, user-friendly error messages</li></ul><p>HTML and CSS will get us far, but it's worth noting that there are no one-size-fits-all solutions for getting multi-lingual content right. I'd still advise that, wherever possible have your work reviewed by a native-speaker. That goes double if you're developing content for a language that you yourself don't understand.</p><p>That said, over the years I've found that following these steps can provide a solid foundation for building flexible, multi-lingual content.</p></div><footer class="article__footer"><div class="author"><div class="author__inr"><div class="author__portrait"><div class="portrait"><span class="portrait__bg dots" data-drift="-10 -10"></span><div class="portrait__image"><span class="duotone"><img src="../../assets/img/portrait_small.jpg"></span></div></div></div><div class="author__bio flow"><h4 class="t-heading t-sublede:s t-lede:m t-medium:l">Hi, my name is Robb<span class="dot">.</span></h4><p>I'm a freelance creative developer helping awesome people to build ambitious yet accessible web projects.</p><a href="mailto:hello@robbowen.digital?subject=ü§ò Hi Robb, I'd like to hire you" class="btn author__cta"><span class="btn__label">Hire me</span> <span class="btn__fill stripes" data-drift="-10 -12" aria-hidden="true">Hire me</span></a></div></div></div></footer></div></main><small class="made-in-wales">¬© MMXXIV. Gwneud yn Ne Cymru.</small></div><script src="../../assets/js/main.js"></script></body></html>